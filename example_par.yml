# This is an example config file to run WFC3Sim. Parameters are described with
# comments. Certain parameters can take multiple values like y_ref, this can be
# a signle value for all exposures or a filepath to a text file containing the
# y_ref value per exposure

general:
  # path to systems folder of the Open Exoplanet Catalogue
  oec_location: /Users/ryan/git/open_exoplanet_catalogue/systems
  outdir: '/Users/ryan/Dropbox/phd/wfc3sim/visittest'
  seed: 1337

target:
  name: 'Gliese 1214 b'  # exact match of a OEC planet
  planet_spectrum_file: 'example_data/hj_1000.dat'  # wl (microns) vs transit depth
  rebin_resolution: false  # Rebin the planet spectrum to lower resolution or false
  stellar_spectrum_file: False
  flux_scale: 2E-20  # stellar flux is a blackbody, scale this to get the required counts per pixel

  # Below only required to overwrite ExoData defaults from the OEC, set to false otherwise
  period: false  # days
  sma: false    # AU
  stellar_radius: false  # Solar Radii
  inclination: false  # deg
  eccentricity: false
  periastron: false
  transit_time: 2454980.749  # JD
  # Non-linear limb darkening coeffs 1-4 i.e [ld1, ld2, ld3, ld4], if false
  # then name must be a valid OEC planet name
  ldcoeffs: false

observation:
  detector: 'WFC3IR'  # currently fixed
  grism: 'G141'

  # x and y reference positions, can be a number for every exposure or a file
  # containing the position per exposure. Note that if you specificy indivudal
  # x_refs you probably want to turn x_shifts off
  x_ref: 450
  y_ref: 550

  NSAMP: 7
  SAMPSEQ: 'SPARS10'
  SUBARRAY: 256
  # TODO START JD IS NOT CURRENTLY SET HERE, SET IN RUNSIM
  start_JD: 2454980.68
  # Defines whether you want the visit_planner to set the start times (false)
  # or define them yourself (give a file with a list of times in JD)
  exp_start_times: False
  num_orbits: 2
  sample_rate: 500  # How often to generate a single frame (when scanning) in ms
  spatial_scan: True
  scan_speed: 1 # 280 pixels/111.8 seconds  # pixels per second

  # Scan speed variations types  can be of the type sine, mod-sine or None
  # sine  = constant sine wave, coeffs = [stddev, period, start_phase]
  # start phase can be a number of 'rand' for random
  # mod-sine = modulated sine wave with scan speed blips
  # coeffs = [amplitude, period, blip_proba] blip proba is a %
  ssv_type: false
  ssv_coeffs: false

  x_shifts: 0.1  # linear shift in x position (pixels) per exposure
  y_shifts: 0.001  # linear shift in y position (pixels) per exposure

  noise_mean: False
  noise_std: False

  add_dark: True
  add_flat: True
  add_gain_variations: True
  add_non_linear: True
  add_read_noise: True  # include read noise
  add_stellar_noise: True


  # How many multiples of the master sky to use. Around 2 is fine, can specify
  # a list of values per frame
  sky_background: 2
  cosmic_rate: 11

  clip_values_det_limits: True

trends:
  visit_trend_coeffs: [0.005, 0.0011, 400]  # visit ramp / hook model coeffs